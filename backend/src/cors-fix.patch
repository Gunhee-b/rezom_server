--- src/main.ts.backup	2025-09-05 15:50:22.000000000 +0000
+++ src/main.ts	2025-09-05 15:51:44.000000000 +0000
@@ -10,6 +10,7 @@
 import cookieParser from 'cookie-parser';
 import { INestApplication, Logger } from '@nestjs/common';
 import { ModulesContainer } from '@nestjs/core';
+import cors from 'cors';
 
 const raw = process.env.CORS_ORIGIN || process.env.FRONTEND_ORIGIN || '';
 const ALLOWLIST = raw
@@ -60,10 +61,16 @@
 async function bootstrap() {
   const app = await NestFactory.create(AppModule, { bufferLogs: true });
 
-  app.enableCors({
-    origin: true,
+  // Manual CORS setup
+  app.use(cors({
+    origin: ALLOWLIST.length ? ALLOWLIST : ['http://localhost:5173', 'http://localhost:5174'],
     credentials: true,
-  });
+    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
+    allowedHeaders: ['Content-Type', 'Authorization', 'Accept', 'X-Requested-With'],
+    exposedHeaders: ['Set-Cookie'],
+    optionsSuccessStatus: 200,
+    preflightContinue: false
+  }));
 
   app.use(helmet());
   app.use(cookieParser());
